---
title: "Final Project"
subtitle: "Data Science for Biologists, Spring 2021"
author: "Stephanie Sanders"
output: 
  html_document: 
    theme: cerulean
    highlight: kate
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
# DON'T CHANGE THE NEXT LINE, except to add NEW options if you have any.
knitr::opts_chunk$set(warning=FALSE, message=FALSE, echo = TRUE, include = TRUE)

# Load all libraries you use HERE:
library(tidyverse)
```

<br><br>

## Introduction

This [data](https://github.com/BuzzFeedNews/2018-03-oscars-script-diversity-analysis/blob/master/data/actor-metrics.csv) is all of the relevant information of the films nominated for Best Picture at the Oscars in 1989, 2015, and 2017. The data will be used to analyze the progression of diversity in Best Picture-nominated films.

```{r read-examine-data}
oscars <- read_csv("sanders_actor-metrics.csv") #data from the 1989, 2015 and 2017 oscars
dplyr::glimpse(oscars)

oscars %>%
  select(race) %>%
  distinct() #show which races are represented in the data
```

<br><br>

## Question 1

#### Has there been an increase in the representation of people of color (POC) in Oscar-nominated films?

### Methods
```{r condensed table}
oscars %>%
  select(-actor, -characters, -imdb) -> oscars_condensed
```

```{r q1 data wrangling}
oscars_condensed %>%
  select(year, film, race_simple) %>%
  group_by(year, film) %>%
  filter(race_simple == "POC") %>%
  count() %>%
  rename(number_poc = n) -> poc_by_film

oscars_condensed %>%
  select(year, film, race_simple) %>%
  group_by(year, film) %>%
  count() %>%
  rename(number_actors = n) -> actors_by_film

full_join(poc_by_film, actors_by_film) %>%
  mutate(percent_poc = number_poc/number_actors * 100) %>%
  arrange(desc(percent_poc)) %>%
  group_by(year) %>%
  slice(1) %>%
  ungroup() %>%
  transform(year = factor(year,
                              levels = c(1989, 2015, 2017),
                              labels = c("1989", "2015", "2017"))) %>%
  select(year, film, percent_poc) -> percent_poc_film
```

```{r q1 plot}
eighty_nine <- "gray94"
fifteen <- "coral3"
seventeen <- "darkolivegreen3"
yearfill <- c(eighty_nine, fifteen, seventeen) #fun fact, these are roughly the colors that were the most popular for each year
film_names <- fct_relevel(c("'Driving Miss Daisy'", "'The Martian'", "'Get Out'")) #fix the titles of the movies
theme_set(theme_classic())

percent_poc_film %>%
  ggplot() +
  aes(x = fct_reorder(film_names, percent_poc), #order films by percentage
      y = percent_poc,
      fill = year) +
  geom_col(color = "black") +
  scale_fill_manual(values = yearfill, name = "Oscars Year") + #fill columns by year
  geom_text(aes(x = film_names,
                y = percent_poc + 1.1,
                label = round(percent_poc, digits = 2))) +
  labs(x = "Film",
       y = "Percent POC")
  
```

### Answer

Based on the films with the highest percentage of POC actors from each year, there has been an increase in POC representation. From 1989 to 2015, there was only a 2.38% increase in POC actors the between the most diverse films from each year. From 2015 to 2017, there was a 9.74% increase in POC actors the between the most diverse films from each year.


<br><br>

## Question 2

#### Over the three years provided, which race is the most represented in the Oscars? Which races is the least represented in the Oscars?

### Methods

### Answer

Replace this text with your answer to your question.

<br><br>

## Question 3

#### Over time, has there been an increase in the number of lines given to POC actors in Oscar-nominated films?

### Methods

### Answer

Replace this text with your answer to your question.


<br><br>

## Question 4

#### Which film from each year had the most even ratio of male to female actors? 

### Methods

### Answer

Replace this text with your answer to your question.
